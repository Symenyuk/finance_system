<button mat-icon-button [mat-dialog-close] class="close-button"><mat-icon>close</mat-icon></button>
<h1 mat-dialog-title>Bill history</h1>
<div mat-dialog-content>
  <table mat-table [dataSource]="history" class="transparent-table">

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let element">
        {{ element.statusValue }}
      </td>
    </ng-container>

    <ng-container matColumnDef="message">
      <th mat-header-cell *matHeaderCellDef>Message</th>
      <td mat-cell *matCellDef="let element" [style.width]="'30%'">
        {{ element.message }}
      </td>
    </ng-container>

    <ng-container matColumnDef="who">
      <th mat-header-cell *matHeaderCellDef>Who</th>
      <td mat-cell *matCellDef="let element">
        {{ element.who }}
      </td>
    </ng-container>

    <ng-container matColumnDef="updated">
      <th mat-header-cell *matHeaderCellDef>Updated at</th>
      <td mat-cell *matCellDef="let element" [style.font-size]="'12px'">
        {{ element.updatedAt | date : 'medium' }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="dataColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: dataColumns"></tr>

    <ng-container matColumnDef="noRecord">
      <td [attr.colspan]="dataColumns.length" mat-footer-cell *matFooterCellDef>
        <mat-progress-spinner [color]="'accent'" mode="indeterminate" *ngIf="!loaded"></mat-progress-spinner>
        <span *ngIf="loaded">No records found</span>
      </td>
    </ng-container>

    <tr mat-footer-row *matFooterRowDef="['noRecord']" [hidden]="history.length > 0"></tr>

  </table>
</div>
